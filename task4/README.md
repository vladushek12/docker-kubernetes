# README

## Домашнее задание №4

### Описание проекта
В данном проекте создается простое веб-приложение, которое отображает "hello world" на странице `index.html`. Для развертывания приложения используется Docker и Kubernetes. Веб-сервер настраивается на базе образа **nginx**, а контейнеризация и оркестрация выполняются с помощью **Docker** и **k3d** (легковесный инструмент для создания кластеров Kubernetes).

---

### Структура проекта
1. **index.html**  
   Файл содержит простой HTML-код, который выводит текст "hello world".

2. **Dockerfile**  
   Файл описывает процесс сборки Docker-образа:
   - Используется базовый образ **nginx**.
   - Файл `index.html` копируется в директорию `/usr/share/nginx/html`.

3. **deployment.yaml**  
   Манифест Kubernetes для создания Deployment. Определяет:
   - Используемый Docker-образ.
   - Количество реплик.
   - Порты для взаимодействия.

4. **service.yaml**  
   Манифест Kubernetes для создания Service. Обеспечивает доступ к приложению через указанный порт.

---

### Инструкция по развертыванию

#### 1. Сборка Docker-образа
Соберите Docker-образ с тегом `task4-image:v1`:
```bash
docker build -t task4-image:v1 .
```

#### 2. Создание кластера Kubernetes
Создайте локальный кластер Kubernetes с помощью **k3d**:
```bash
k3d cluster create task4-cluster --port '30001:30001'
```
Это команда создаст кластер и пробросит порт `30001` на хосте для доступа к сервису.

#### 3. Импорт Docker-образа в кластер
Импортируйте собранный Docker-образ в кластер:
```bash
k3d image import task4-image:v1 --cluster task4-cluster
```

#### 4. Развертывание приложения
Примените манифесты Kubernetes для создания Deployment и Service:
```bash
kubectl apply -f deployment.yaml
kubectl apply -f service.yaml
```

#### 5. Проверка работы приложения
Откройте браузер и перейдите по адресу:
```
http://localhost:30001
```
Вы должны увидеть текст "hello world".

---

- Для удаления:
```bash
k3d cluster delete task4-cluster
